(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{411:function(e,t,r){"use strict";r.r(t);var n=r(11),o=r(156),c={data:function(){return{data:"",encrypted:"",new_encrypted:"",rotate_counter:0,master_password_0:"",master_password_1:"",master_password_2:"",errorMessage:"",view_admin:!1}},computed:{data2:{get:function(){return this.data},set:function(e){this.data=e,this.new_encrypted=o.a.encrypt(this.data,this.$cookies)}},encrypted2:{get:function(){return this.new_encrypted},set:function(e){this.new_encrypted=e;var t=o.a.decrypt(e,this.$cookies),r=Object(n.a)(t,2),data=(r[0],r[1]);this.data=data}},encrypted_link:{get:function(){return this.new_encrypted.length>1800?"./":"./?q="+this.new_encrypted}},master_password:{get:function(){return this.master_password_0},set:function(e){this.master_password_0=e,o.a.setMasterPassword(e,this.$cookies),this.refresh()}},data_key_encrypted:{get:function(){this.rotate_counter;var e=this.$cookies.get("data_key_encrypted");return null==e?"":e},set:function(e){e!=this.$cookies.get("data_key_encrypted")&&(this.$cookies.set("data_key_encrypted",e,{maxAge:2592e3}),""!=this.master_password_0&&(console.log("setMasterPassword"),o.a.setMasterPassword(this.master_password_0,this.$cookies)),this.refresh())}}},methods:{clickData:function(){this.$refs.data2.$el.querySelector("textarea").select()},clickEncrypted:function(){this.$refs.encrypted2.$el.querySelector("textarea").select()},clickDataKeyEncrypted:function(){this.$refs.data_key_encrypted.$el.querySelector("textarea").select()},generate_random:function(){var e=o.a.generatePassword(10);this.data=e,this.new_encrypted=o.a.encrypt(this.data,this.$cookies)},refresh:function(){if(console.log("refresh"),""==this.data){var e=o.a.decrypt(this.encrypted,this.$cookies),t=Object(n.a)(e,2),data=(t[0],t[1]);this.data=data}else this.new_encrypted=o.a.encrypt(this.data,this.$cookies)},clickRotate:function(){var e=this;if(this.master_password_1==this.master_password_2){if(this.errorMessage="",o.a.rotateDataKey(this.master_password_0,this.master_password_1,this.$cookies,(function(t){e.errorMessage=t})),""==this.errorMessage){this.master_password_0="",this.master_password_1="",this.master_password_2="",this.rotate_counter++;var t=o.a.decrypt(this.new_encrypted,this.$cookies),r=Object(n.a)(t,2);this.new_encrypted=r[0],this.data=r[1]}}else this.errorMessage="New passwords do not match"}},created:function(){var q=this.$route.query.q;null==q&&(q=""),this.encrypted=q;var e=o.a.decrypt(q,this.$cookies),t=Object(n.a)(e,2);this.new_encrypted=t[0],this.data=t[1],o.a.refreshCookie(this.$cookies)}},d=r(82),_=r(130),l=r.n(_),h=r(415),y=r(363),w=r(342),v=r(345),k=r(408),f=r(341),m=r(409),x=r(403),$=r(410),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-card",[r("v-card-text",[r("v-textarea",{ref:"data2",attrs:{label:"Data",outlined:"",dense:""},on:{click:e.clickData},model:{value:e.data2,callback:function(t){e.data2=t},expression:"data2"}}),e._v(" "),e.encrypted!=e.new_encrypted?[r("v-textarea",{ref:"encrypted2",attrs:{label:"Encrypted",outlined:"",dense:""},on:{click:e.clickEncrypted},model:{value:e.encrypted2,callback:function(t){e.encrypted2=t},expression:"encrypted2"}}),e._v(" "),r("v-btn",{attrs:{to:e.encrypted_link}},[r("v-icon",[e._v("mdi-link-variant")])],1)]:e._e()],2),e._v(" "),r("v-card-text",[r("v-btn",{attrs:{elevation:"2"},on:{click:e.generate_random}},[e._v("Generate random")])],1),e._v(" "),e.view_admin?e._e():[r("v-card-text",[r("v-btn",{attrs:{elevation:"2"},on:{click:function(t){e.view_admin=!0}}},[r("v-icon",[e._v("mdi-cog")])],1)],1)],e._v(" "),e.view_admin?[r("v-card-text",[r("v-text-field",{attrs:{label:"Current Master Password",type:"password"},model:{value:e.master_password,callback:function(t){e.master_password=t},expression:"master_password"}}),e._v(" "),r("v-text-field",{attrs:{label:"New Master Password",type:"password"},model:{value:e.master_password_1,callback:function(t){e.master_password_1=t},expression:"master_password_1"}}),e._v(" "),r("v-text-field",{attrs:{label:"New Master Password (Confirm)",type:"password"},model:{value:e.master_password_2,callback:function(t){e.master_password_2=t},expression:"master_password_2"}}),e._v(" "),r("v-btn",{attrs:{elevation:"2"},on:{click:e.clickRotate}},[e._v("Rotate")])],1),e._v(" "),e.errorMessage?r("v-card-text",[r("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(e._s(e.errorMessage))])],1):e._e(),e._v(" "),r("v-card-text",[r("v-textarea",{ref:"data_key_encrypted",attrs:{label:"Data Key Encrypted",outlined:"",dense:""},on:{click:e.clickDataKeyEncrypted},model:{value:e.data_key_encrypted,callback:function(t){e.data_key_encrypted=t},expression:"data_key_encrypted"}})],1)]:e._e()],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VAlert:h.a,VBtn:y.a,VCard:w.a,VCardText:v.a,VCol:k.a,VIcon:f.a,VRow:m.a,VTextField:x.a,VTextarea:$.a})}}]);