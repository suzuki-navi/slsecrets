(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{411:function(e,t,r){"use strict";r.r(t);var n=r(11),c=r(156),o={data:function(){return{data:"",encrypted:"",new_encrypted:"",rotate_counter:0,master_password_0:"",master_password_1:"",master_password_2:"",errorMessage:"",view_admin:!1}},computed:{data2:{get:function(){return this.data},set:function(e){this.data=e,this.new_encrypted=c.a.encrypt(this.data,this.$cookies)}},encrypted2:{get:function(){return this.new_encrypted},set:function(e){this.new_encrypted=e;var t=c.a.decrypt(e,this.$cookies),r=Object(n.a)(t,2);_=r[0],this.data=r[1]}},encrypted_link:{get:function(){return this.new_encrypted.length>1800?"./":"./?q="+this.new_encrypted}},data_key_encrypted:{get:function(){this.rotate_counter;var e=this.$cookies.get("data_key_encrypted");return null==e?"":e},set:function(e){this.$cookies.set("data_key_encrypted",e)}}},methods:{clickData:function(){this.$refs.data2.$el.querySelector("textarea").select()},clickEncrypted:function(){this.$refs.encrypted2.$el.querySelector("textarea").select()},clickDataKeyEncrypted:function(){this.$refs.data_key_encrypted.$el.querySelector("textarea").select()},generate_random:function(){var e=c.a.generatePassword(10);this.data=e,this.new_encrypted=c.a.encrypt(this.data,this.$cookies)},clickRotate:function(){var e=this;if(this.master_password_1==this.master_password_2)if(""!=this.master_password_1){if(this.errorMessage="",c.a.rotateDataKey(this.master_password_0,this.master_password_1,this.$cookies,(function(t){e.errorMessage=t})),""==this.errorMessage){this.master_password_0="",this.master_password_1="",this.master_password_2="",this.rotate_counter++;var t=c.a.decrypt(this.new_encrypted,this.$cookies),r=Object(n.a)(t,2);this.new_encrypted=r[0],this.data=r[1]}}else console.log("Empty new password");else this.errorMessage="New passwords do not match"}},created:function(){var q=this.$route.query.q;null==q&&(q=""),this.encrypted=q;var e=c.a.decrypt(q,this.$cookies),t=Object(n.a)(e,2);this.new_encrypted=t[0],this.data=t[1]}},d=r(82),l=r(130),y=r.n(l),v=r(415),w=r(363),h=r(342),m=r(345),k=r(408),f=r(341),x=r(409),$=r(403),M=r(410),component=Object(d.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-card",[r("v-card-text",[r("v-textarea",{ref:"data2",attrs:{label:"Data",outlined:"",dense:""},on:{click:e.clickData},model:{value:e.data2,callback:function(t){e.data2=t},expression:"data2"}}),e._v(" "),e.encrypted!=e.new_encrypted?[r("v-textarea",{ref:"encrypted2",attrs:{label:"Encrypted",outlined:"",dense:""},on:{click:e.clickEncrypted},model:{value:e.encrypted2,callback:function(t){e.encrypted2=t},expression:"encrypted2"}}),e._v(" "),r("v-btn",{attrs:{to:e.encrypted_link}},[r("v-icon",[e._v("mdi-link-variant")])],1)]:e._e()],2),e._v(" "),r("v-card-text",[r("v-btn",{attrs:{elevation:"2"},on:{click:e.generate_random}},[e._v("Generate random")])],1),e._v(" "),e.view_admin?e._e():[r("v-card-text",[r("v-btn",{attrs:{elevation:"2"},on:{click:function(t){e.view_admin=!0}}},[r("v-icon",[e._v("mdi-cog")])],1)],1)],e._v(" "),e.view_admin?[r("v-card-text",[r("v-text-field",{attrs:{label:"Old Master Password",type:"password"},model:{value:e.master_password_0,callback:function(t){e.master_password_0=t},expression:"master_password_0"}}),e._v(" "),r("v-text-field",{attrs:{label:"New Master Password",type:"password"},model:{value:e.master_password_1,callback:function(t){e.master_password_1=t},expression:"master_password_1"}}),e._v(" "),r("v-text-field",{attrs:{label:"New Master Password (Confirm)",type:"password"},model:{value:e.master_password_2,callback:function(t){e.master_password_2=t},expression:"master_password_2"}}),e._v(" "),r("v-btn",{attrs:{elevation:"2"},on:{click:e.clickRotate}},[e._v("Rotate")])],1),e._v(" "),e.errorMessage?r("v-card-text",[r("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(e._s(e.errorMessage))])],1):e._e(),e._v(" "),r("v-card-text",[r("v-textarea",{ref:"data_key_encrypted",attrs:{label:"Data Key Encrypted",outlined:"",dense:""},on:{click:e.clickDataKeyEncrypted},model:{value:e.data_key_encrypted,callback:function(t){e.data_key_encrypted=t},expression:"data_key_encrypted"}})],1)]:e._e()],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VAlert:v.a,VBtn:w.a,VCard:h.a,VCardText:m.a,VCol:k.a,VIcon:f.a,VRow:x.a,VTextField:$.a,VTextarea:M.a})}}]);